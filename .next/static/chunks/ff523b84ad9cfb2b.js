(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78928,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(18566),a=e.i(1528),i=e.i(75254);let n=(0,i.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var l=e.i(3116),o=e.i(69638);let d=(0,i.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),c=(0,i.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),x=(0,i.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var u=e.i(86536);let m=(0,i.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),h=(0,i.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var p=e.i(37727),g=e.i(31278);let f=(0,i.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var j=e.i(25652);let N=(0,i.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),w=(0,i.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var y=e.i(49619);e.i(47167);let b="http://localhost:3011";async function v(e){let s=await e.text();try{return JSON.parse(s)}catch{throw console.error("Failed to parse response as JSON:",s.substring(0,200)),Error("Server returned an invalid response. Please check if the backend is running.")}}function k(e){return{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}async function C(e){try{let s=await fetch(`${b}/api/v1/god-admin/stats`,{method:"GET",headers:k(e)});if(!s.ok){let e=await v(s);return{success:!1,message:e.message||"Failed to fetch dashboard stats"}}return await v(s)}catch(e){return console.error("Error fetching dashboard stats:",e),{success:!1,message:"Network error while fetching dashboard stats"}}}async function S(e,s={}){try{let t,r,a=(t=new URLSearchParams,Object.entries(s).forEach(([e,s])=>{null!=s&&""!==s&&t.append(e,String(s))}),(r=t.toString())?`?${r}`:""),i=await fetch(`${b}/api/v1/god-admin/requests${a}`,{method:"GET",headers:k(e)});if(!i.ok){let e=await v(i);return{success:!1,message:e.message||"Failed to fetch requests"}}return await v(i)}catch(e){return console.error("Error fetching requests:",e),{success:!1,message:"Network error while fetching requests"}}}async function E(e,s){try{let t=await fetch(`${b}/api/v1/god-admin/requests/${s}`,{method:"GET",headers:k(e)});if(!t.ok){let e=await v(t);return{success:!1,message:e.message||"Failed to fetch request details"}}return await v(t)}catch(e){return console.error("Error fetching request details:",e),{success:!1,message:"Network error while fetching request details"}}}async function P(e,s){try{let t=await fetch(`${b}/api/v1/god-admin/requests/${s}/send-bank-details`,{method:"POST",headers:k(e)});if(!t.ok){let e=await v(t);return{success:!1,message:e.message||"Failed to send bank details"}}return await v(t)}catch(e){return console.error("Error sending bank details:",e),{success:!1,message:"Network error while sending bank details"}}}async function D(e,s,t){try{let r=await fetch(`${b}/api/v1/god-admin/requests/${s}/verify`,{method:"POST",headers:k(e),body:JSON.stringify(t)});if(!r.ok){let e=await v(r);return{success:!1,message:e.message||"Failed to verify request"}}return await v(r)}catch(e){return console.error("Error verifying request:",e),{success:!1,message:"Network error while verifying request"}}}async function T(e,s,t){try{let r=await fetch(`${b}/api/v1/god-admin/requests/${s}/reject`,{method:"POST",headers:k(e),body:JSON.stringify(t)});if(!r.ok){let e=await v(r);return{success:!1,message:e.message||"Failed to reject request"}}return await v(r)}catch(e){return console.error("Error rejecting request:",e),{success:!1,message:"Network error while rejecting request"}}}let q="http://localhost:3011";async function R(e){let s=await e.text();try{return JSON.parse(s)}catch{throw console.error("Failed to parse response as JSON:",s.substring(0,200)),Error("Server returned an invalid response. Please check if the backend is running.")}}function A(e){return{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}async function F(e,s=1,t=20){try{let r=await fetch(`${q}/api/v1/withdrawals/god-admin/pending?page=${s}&limit=${t}`,{method:"GET",headers:A(e)});if(!r.ok){let e=await R(r);return{success:!1,message:e.message||"Failed to fetch pending withdrawals"}}return await R(r)}catch(e){return console.error("Error fetching pending withdrawals:",e),{success:!1,message:"Network error while fetching pending withdrawals"}}}async function O(e,s,t){try{let r=await fetch(`${q}/api/v1/withdrawals/${s}/process`,{method:"POST",headers:A(e),body:JSON.stringify(t)});if(!r.ok){let e=await R(r);return{success:!1,message:e.message||"Failed to process withdrawal"}}return await R(r)}catch(e){return console.error("Error processing withdrawal:",e),{success:!1,message:"Network error while processing withdrawal"}}}async function $(e,s,t){try{let r=await fetch(`${q}/api/v1/withdrawals/${s}/reject`,{method:"POST",headers:A(e),body:JSON.stringify(t)});if(!r.ok){let e=await R(r);return{success:!1,message:e.message||"Failed to reject withdrawal"}}return await R(r)}catch(e){return console.error("Error rejecting withdrawal:",e),{success:!1,message:"Network error while rejecting withdrawal"}}}var U=e.i(67881),B=e.i(70065),I=e.i(94179),M=e.i(2957);function G(){let i=(0,r.useRouter)(),{user:b,isLoaded:v}=(0,a.useUser)(),{signOut:k}=(0,a.useClerk)(),[q,R]=(0,t.useState)(null),[A,G]=(0,t.useState)([]),[L,J]=(0,t.useState)(null),[z,H]=(0,t.useState)(!1),[V,W]=(0,t.useState)(!1),[K,X]=(0,t.useState)(""),[Q,Y]=(0,t.useState)(null),[Z,_]=(0,t.useState)("pending"),[ee,es]=(0,t.useState)({page:1,limit:20,status:"",currency:""}),[et,er]=(0,t.useState)({page:1,limit:20,total:0,totalPages:0}),[ea,ei]=(0,t.useState)(!1),[en,el]=(0,t.useState)(!1),[eo,ed]=(0,t.useState)(!1),[ec,ex]=(0,t.useState)(""),[eu,em]=(0,t.useState)(""),[eh,ep]=(0,t.useState)([]),[eg,ef]=(0,t.useState)(null),[ej,eN]=(0,t.useState)(!1),[ew,ey]=(0,t.useState)(""),[eb,ev]=(0,t.useState)(""),ek=async()=>{if(!Q)return;console.log("Fetching stats with token:",Q);let e=await C(Q);console.log("Stats response:",e),e.success&&e.data?(console.log("Setting stats:",e.data),R(e.data)):(console.error("Failed to fetch stats:",e.message),X(e.message||"Failed to fetch dashboard stats"))},eC=async()=>{if(!Q)return void console.log("No token available for fetching requests");console.log("Fetching requests - Tab:",Z,"Filters:",ee),H(!0);try{let e="pending"===Z?{...ee,status:"PROCESSING"}:ee,s=await S(Q,e);if(console.log("Requests response:",s),s.success){let e=Array.isArray(s.data)?s.data:[],t=s.pagination||null;console.log("Setting requests:",e),console.log("Setting pagination:",t),G(e),er(t)}else console.error("Failed to fetch requests:",s.message),X(s.message||"Failed to fetch requests")}catch(e){console.error("Error fetching requests:",e),X("Error fetching requests")}finally{H(!1)}},eS=async()=>{if(Q){H(!0);try{let e=await F(Q,ee.page,ee.limit);e.success&&e.data?(ep(Array.isArray(e.data)?e.data:[]),er(e.pagination||et)):X(e.message||"Failed to fetch withdrawals")}catch(e){X("Error fetching withdrawals")}finally{H(!1)}}};(0,t.useEffect)(()=>{let s=async()=>{let s=(0,y.getTokenFromCookies)();if(console.log("Retrieved token from cookies:",s),!s&&b?.id){console.log("No token found, generating new token for user:",b.id);let{generateToken:t,storeTokenInCookies:r}=await e.A(72102),a=await t(b.id);if(a.success&&a.data?.token)r(s=a.data.token),console.log("Token generated and stored successfully");else{console.error("Failed to generate token:",a.message),X("Failed to generate authentication token. Please login again.");return}}Y(s),s||(console.error("No token available!"),X("Authentication token not found. Please login again."))};b&&s()},[b]),(0,t.useEffect)(()=>{!v||(b?Q&&(ek(),"withdrawals"===Z?eS():eC()):i.push("/login"))},[v,b,Q,Z,ee]);let eE=async()=>{try{(0,y.removeTokenFromCookies)(),await k(),i.push("/login")}catch(e){console.error("Logout error:",e),i.push("/login")}},eP=async e=>{if(!Q)return;W(!0);let s=await E(Q,e);s.success&&s.data&&(J(s.data),ei(!0)),W(!1)},eD=async e=>{if(!Q)return;W(!0);let s=await P(Q,e);s.success?(await eC(),await ek(),L?.id===e&&J(s.data||null)):X(s.message||"Failed to send bank details"),W(!1)},eT=async()=>{if(!Q||!L)return;W(!0);let e=await D(Q,L.id,{adminNotes:ec});e.success?(ed(!1),ei(!1),ex(""),await eC(),await ek()):X(e.message||"Failed to verify request"),W(!1)},eq=async()=>{if(!Q||!L)return;W(!0);let e=await T(Q,L.id,{rejectionReason:eu});e.success?(el(!1),ei(!1),em(""),await eC(),await ek()):X(e.message||"Failed to reject request"),W(!1)},eR=async()=>{if(!Q||!eg)return;W(!0);let e=await O(Q,eg.id,{transactionRef:ew,adminNotes:eb});e.success?(eN(!1),ey(""),ev(""),await eS()):X(e.message||"Failed to process withdrawal"),W(!1)},eA=async()=>{if(!Q||!eg)return;W(!0);let e=await $(Q,eg.id,{rejectionReason:eu});e.success?(eN(!1),em(""),await eS()):X(e.message||"Failed to reject withdrawal"),W(!1)},eF=({status:e})=>(0,s.jsx)(I.Badge,{variant:{PENDING:"warning",PROCESSING:"info",COMPLETED:"success",REJECTED:"destructive"}[e]||"secondary",children:e});return v?(0,s.jsxs)("div",{className:"min-h-screen bg-background text-foreground pb-20",children:[(0,s.jsxs)("div",{className:"fixed top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-primary/5 blur-[120px]"}),(0,s.jsx)("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-accent/5 blur-[120px]"})]}),(0,s.jsx)("header",{className:"sticky top-0 z-40 w-full border-b border-white/5 bg-background/80 backdrop-blur-xl",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,s.jsx)(n,{className:"w-6 h-6 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-foreground tracking-tight",children:"Master Node"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Welcome back, ",b?.firstName]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("button",{onClick:()=>i.push("/currency-settings"),className:"flex items-center gap-2 px-4 py-2 text-sm border border-white/10 rounded-lg hover:bg-white/5 transition-colors",children:[(0,s.jsx)(c,{className:"w-4 h-4"}),"Settings"]}),(0,s.jsxs)("button",{onClick:eE,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-white/5 rounded-lg transition-colors",children:[(0,s.jsx)(f,{className:"w-4 h-4"}),"Logout"]})]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)(B.Card,{gradient:!0,className:"relative overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,s.jsx)(l.Clock,{className:"w-16 h-16 text-amber-500"})}),(0,s.jsxs)(B.CardHeader,{className:"pb-2",children:[(0,s.jsx)(B.CardDescription,{children:"Pending Requests"}),(0,s.jsx)(B.CardTitle,{className:"text-3xl font-bold text-amber-500",children:q?q.pending:"0"})]})]}),(0,s.jsxs)(B.Card,{gradient:!0,className:"relative overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,s.jsx)(j.TrendingUp,{className:"w-16 h-16 text-blue-500"})}),(0,s.jsxs)(B.CardHeader,{className:"pb-2",children:[(0,s.jsx)(B.CardDescription,{children:"Processing"}),(0,s.jsx)(B.CardTitle,{className:"text-3xl font-bold text-blue-500",children:q?q.processing:"0"})]})]}),(0,s.jsxs)(B.Card,{gradient:!0,className:"relative overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,s.jsx)(o.CheckCircle,{className:"w-16 h-16 text-emerald-500"})}),(0,s.jsxs)(B.CardHeader,{className:"pb-2",children:[(0,s.jsx)(B.CardDescription,{children:"Completed"}),(0,s.jsx)(B.CardTitle,{className:"text-3xl font-bold text-emerald-500",children:q?q.completed:"0"})]})]}),(0,s.jsxs)(B.Card,{gradient:!0,className:"relative overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,s.jsx)(c,{className:"w-16 h-16 text-violet-500"})}),(0,s.jsxs)(B.CardHeader,{className:"pb-2",children:[(0,s.jsx)(B.CardDescription,{children:"Total USDT Credited"}),(0,s.jsx)(B.CardTitle,{className:"text-3xl font-bold text-violet-500",children:q?q.totalUsdtCredited:"0.00"})]})]})]}),(0,s.jsxs)(B.Card,{className:"border-white/5 bg-card/50",children:[(0,s.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex bg-secondary/50 p-1 rounded-lg overflow-x-auto",children:[(0,s.jsx)("button",{onClick:()=>_("pending"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${"pending"===Z?"bg-primary text-white shadow-lg shadow-primary/20":"text-muted-foreground hover:text-foreground hover:bg-white/5"}`,children:"Pending Requests"}),(0,s.jsx)("button",{onClick:()=>_("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${"all"===Z?"bg-primary text-white shadow-lg shadow-primary/20":"text-muted-foreground hover:text-foreground hover:bg-white/5"}`,children:"All Requests"}),(0,s.jsx)("button",{onClick:()=>_("withdrawals"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${"withdrawals"===Z?"bg-primary text-white shadow-lg shadow-primary/20":"text-muted-foreground hover:text-foreground hover:bg-white/5"}`,children:"Withdrawals"})]}),(0,s.jsxs)("div",{className:"flex gap-3 w-full sm:w-auto",children:[(0,s.jsxs)("select",{value:ee.currency,onChange:e=>es({...ee,currency:e.target.value,page:1}),className:"h-10 px-3 rounded-lg bg-secondary/50 border border-white/10 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[(0,s.jsx)("option",{value:"",children:"All Currencies"}),(0,s.jsx)("option",{value:"INR",children:"INR"}),(0,s.jsx)("option",{value:"USD",children:"USD"}),(0,s.jsx)("option",{value:"EUR",children:"EUR"})]}),"all"===Z&&(0,s.jsxs)("select",{value:ee.status,onChange:e=>es({...ee,status:e.target.value,page:1}),className:"h-10 px-3 rounded-lg bg-secondary/50 border border-white/10 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[(0,s.jsx)("option",{value:"",children:"All Status"}),(0,s.jsx)("option",{value:"PENDING",children:"Pending"}),(0,s.jsx)("option",{value:"PROCESSING",children:"Processing"}),(0,s.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,s.jsx)("option",{value:"REJECTED",children:"Rejected"})]})]})]})}),(0,s.jsxs)("div",{className:"overflow-x-auto",children:[("pending"===Z||"all"===Z)&&(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-secondary/30",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"User"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Currency"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Amount"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"USDT"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-white/5",children:A&&0!==A.length?A.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-foreground",children:[e.user.firstName," ",e.user.lastName]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.user.email})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm font-medium text-foreground",children:e.currency})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm text-foreground",children:e.currencyAmount})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm font-semibold text-emerald-500",children:e.totalAmount})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)(eF,{status:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>eP(e.id),className:"h-8 w-8 flex items-center justify-center hover:bg-white/5 rounded-lg transition-colors",title:"View Details",children:(0,s.jsx)(u.Eye,{className:"w-4 h-4 text-blue-400"})}),"PENDING"===e.status&&!e.bankDetailsSentAt&&(0,s.jsx)("button",{onClick:()=>eD(e.id),className:"h-8 w-8 flex items-center justify-center hover:bg-white/5 rounded-lg transition-colors disabled:opacity-50",title:"Send Bank Details",disabled:V,children:(0,s.jsx)(m,{className:"w-4 h-4 text-violet-400"})})]})})]},e.id)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center text-muted-foreground",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)(x,{className:"w-8 h-8 opacity-20"}),(0,s.jsx)("p",{children:"No requests found"})]})})})})]}),"withdrawals"===Z&&(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-secondary/30",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"User"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Amount (USDT)"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Method"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Bank Details"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-white/5",children:eh&&0!==eh.length?eh.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-foreground",children:[e.user.firstName," ",e.user.lastName]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.user.email})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm font-semibold text-emerald-500",children:e.amount})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm text-foreground",children:e.method})}),(0,s.jsx)("td",{className:"px-6 py-4",children:e.bankDetails&&(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,s.jsx)("div",{children:e.bankDetails.accountName}),(0,s.jsx)("div",{children:e.bankDetails.bankName})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("button",{onClick:()=>{ef(e),eN(!0)},className:"h-8 w-8 flex items-center justify-center hover:bg-white/5 rounded-lg transition-colors",children:(0,s.jsx)(u.Eye,{className:"w-4 h-4 text-blue-400"})})})]},e.id)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-muted-foreground",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)(x,{className:"w-8 h-8 opacity-20"}),(0,s.jsx)("p",{children:"No pending withdrawals"})]})})})})]})]}),et&&et.totalPages>1&&(0,s.jsxs)("div",{className:"px-6 py-4 border-t border-white/5 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page ",et.page," of ",et.totalPages]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>es({...ee,page:Math.max(1,ee.page-1)}),disabled:1===et.page,className:"flex items-center gap-2 px-4 py-2 text-sm border border-white/10 rounded-lg hover:bg-white/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(N,{className:"w-4 h-4"}),"Previous"]}),(0,s.jsxs)("button",{onClick:()=>es({...ee,page:Math.min(et.totalPages,(ee.page||1)+1)}),disabled:et.page===et.totalPages,className:"flex items-center gap-2 px-4 py-2 text-sm border border-white/10 rounded-lg hover:bg-white/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",(0,s.jsx)(w,{className:"w-4 h-4"})]})]})]})]})]}),(0,s.jsx)(M.Modal,{isOpen:ea&&!!L,onClose:()=>ei(!1),title:"Request Details",maxWidth:"2xl",children:L&&(0,s.jsxs)("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-3 uppercase tracking-wider",children:"User Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 bg-secondary/30 p-4 rounded-lg border border-white/5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Name"}),(0,s.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[L.user.firstName," ",L.user.lastName]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email"}),(0,s.jsx)("p",{className:"text-sm font-medium text-foreground",children:L.user.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Phone"}),(0,s.jsx)("p",{className:"text-sm font-medium text-foreground",children:L.user.phone})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Referral Code"}),(0,s.jsx)("p",{className:"text-sm font-medium text-foreground",children:L.user.referralCode})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-3 uppercase tracking-wider",children:"Payment Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 bg-secondary/30 p-4 rounded-lg border border-white/5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Currency"}),(0,s.jsx)("p",{className:"text-sm font-medium text-foreground",children:L.currency})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Amount"}),(0,s.jsx)("p",{className:"text-sm font-medium text-foreground",children:L.currencyAmount})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"USDT Amount"}),(0,s.jsx)("p",{className:"text-sm font-medium text-foreground",children:L.usdtAmount})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Bonus"}),(0,s.jsx)("p",{className:"text-sm font-medium text-emerald-500",children:L.bonusAmount})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total USDT"}),(0,s.jsx)("p",{className:"text-sm font-bold text-emerald-500",children:L.totalAmount})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Exchange Rate"}),(0,s.jsx)("p",{className:"text-sm font-medium text-foreground",children:L.exchangeRate})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Method"}),(0,s.jsx)("p",{className:"text-sm font-medium text-foreground",children:L.method})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Status"}),(0,s.jsx)(eF,{status:L.status})]})]})]}),L.paymentProof&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-3 uppercase tracking-wider",children:"Payment Proof"}),(0,s.jsx)("div",{className:"rounded-lg overflow-hidden border border-white/10",children:(0,s.jsx)("img",{src:L.paymentProof,alt:"Payment Proof",className:"w-full h-auto object-cover"})})]}),L.transactionRef&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-2 uppercase tracking-wider",children:"Transaction Reference"}),(0,s.jsx)("p",{className:"text-sm bg-secondary/30 p-3 rounded-lg font-mono text-foreground border border-white/5",children:L.transactionRef})]}),L.userNotes&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-2 uppercase tracking-wider",children:"User Notes"}),(0,s.jsx)("p",{className:"text-sm bg-secondary/30 p-3 rounded-lg text-foreground border border-white/5",children:L.userNotes})]}),L.adminNotes&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-2 uppercase tracking-wider",children:"Admin Notes"}),(0,s.jsx)("p",{className:"text-sm bg-blue-500/10 text-blue-200 p-3 rounded-lg border border-blue-500/20",children:L.adminNotes})]}),L.rejectionReason&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-2 uppercase tracking-wider",children:"Rejection Reason"}),(0,s.jsx)("p",{className:"text-sm bg-red-500/10 text-red-200 p-3 rounded-lg border border-red-500/20",children:L.rejectionReason})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-white/10",children:["PENDING"===L.status&&!L.bankDetailsSentAt&&(0,s.jsx)(U.Button,{onClick:()=>eD(L.id),disabled:V,className:"flex-1",leftIcon:(0,s.jsx)(m,{className:"w-4 h-4"}),children:"Send Bank Details"}),"PROCESSING"===L.status&&L.paymentProof&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(U.Button,{onClick:()=>ed(!0),disabled:V,variant:"primary",className:"flex-1 bg-emerald-600 hover:bg-emerald-700",leftIcon:(0,s.jsx)(h,{className:"w-4 h-4"}),children:"Verify & Approve"}),(0,s.jsx)(U.Button,{onClick:()=>el(!0),disabled:V,variant:"destructive",className:"flex-1",leftIcon:(0,s.jsx)(p.X,{className:"w-4 h-4"}),children:"Reject"})]})]})]})}),(0,s.jsx)(M.Modal,{isOpen:eo,onClose:()=>ed(!1),title:"Verify & Approve Request",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to verify this request? This will credit ",(0,s.jsxs)("span",{className:"text-emerald-500 font-bold",children:[L?.totalAmount," USDT"]})," to the user's wallet."]}),(0,s.jsx)("textarea",{value:ec,onChange:e=>ex(e.target.value),placeholder:"Add admin notes (optional)",className:"w-full px-4 py-3 bg-secondary/30 border border-white/10 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-foreground placeholder:text-muted-foreground",rows:4}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(U.Button,{variant:"outline",onClick:()=>ed(!1),className:"flex-1",children:"Cancel"}),(0,s.jsx)(U.Button,{onClick:eT,disabled:V,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",isLoading:V,children:"Verify & Credit"})]})]})}),(0,s.jsx)(M.Modal,{isOpen:en,onClose:()=>el(!1),title:"Reject Request",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please provide a reason for rejecting this request. The user will be notified."}),(0,s.jsx)("textarea",{value:eu,onChange:e=>em(e.target.value),placeholder:"Enter rejection reason (required)",className:"w-full px-4 py-3 bg-secondary/30 border border-white/10 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-foreground placeholder:text-muted-foreground",rows:4,required:!0}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(U.Button,{variant:"outline",onClick:()=>el(!1),className:"flex-1",children:"Cancel"}),(0,s.jsx)(U.Button,{variant:"destructive",onClick:eq,disabled:V||!eu.trim(),className:"flex-1",isLoading:V,children:"Reject Request"})]})]})}),(0,s.jsx)(M.Modal,{isOpen:ej&&!!eg,onClose:()=>eN(!1),title:`Withdrawal Request - ${eg?.user.firstName} ${eg?.user.lastName}`,children:eg&&(0,s.jsxs)("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2",children:[(0,s.jsxs)("div",{className:"bg-secondary/30 p-4 rounded-lg space-y-2",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"User Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Name:"}),(0,s.jsxs)("span",{className:"ml-2 text-foreground",children:[eg.user.firstName," ",eg.user.lastName]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Email:"}),(0,s.jsx)("span",{className:"ml-2 text-foreground",children:eg.user.email})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Amount (USDT):"}),(0,s.jsx)("span",{className:"font-semibold text-emerald-500",children:eg.amount})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Method:"}),(0,s.jsx)("span",{className:"text-foreground",children:eg.method})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Date:"}),(0,s.jsx)("span",{className:"text-foreground",children:new Date(eg.createdAt).toLocaleString()})]})]}),eg.bankDetails&&(0,s.jsxs)("div",{className:"bg-secondary/30 p-4 rounded-lg space-y-2",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Bank Details"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Account Name:"}),(0,s.jsx)("span",{className:"text-foreground",children:eg.bankDetails.accountName})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Bank Name:"}),(0,s.jsx)("span",{className:"text-foreground",children:eg.bankDetails.bankName})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Account Number:"}),(0,s.jsx)("span",{className:"text-foreground font-mono",children:eg.bankDetails.accountNumber})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"IFSC Code:"}),(0,s.jsx)("span",{className:"text-foreground font-mono",children:eg.bankDetails.ifscCode})]})]})]}),eg.userNotes&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"User Notes"}),(0,s.jsx)("p",{className:"text-sm bg-secondary/30 p-3 rounded-lg text-muted-foreground",children:eg.userNotes})]}),(0,s.jsxs)("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Transaction Reference (UTR)"}),(0,s.jsx)("input",{type:"text",value:ew,onChange:e=>ey(e.target.value),placeholder:"UTR123456789012",className:"w-full px-3 py-2 bg-secondary/30 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary/50 focus:outline-none",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Admin Notes"}),(0,s.jsx)("textarea",{value:eb,onChange:e=>ev(e.target.value),placeholder:"Payment sent via NEFT...",rows:3,className:"w-full px-3 py-2 bg-secondary/30 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary/50 focus:outline-none"})]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(U.Button,{variant:"outline",onClick:()=>eN(!1),className:"flex-1",children:"Cancel"}),(0,s.jsx)(U.Button,{variant:"destructive",onClick:eA,disabled:V,className:"flex-1",children:"Reject"}),(0,s.jsx)(U.Button,{variant:"primary",onClick:eR,disabled:V||!ew.trim(),className:"flex-1",isLoading:V,children:"Process & Pay"})]})]})}),K&&(0,s.jsxs)("div",{className:"fixed bottom-4 right-4 bg-destructive text-destructive-foreground px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 z-50 animate-in slide-in-from-bottom-5",children:[(0,s.jsx)(d,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:K}),(0,s.jsx)("button",{onClick:()=>X(""),className:"ml-2 hover:opacity-80",children:(0,s.jsx)(p.X,{className:"w-4 h-4"})})]})]}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,s.jsx)(g.Loader2,{className:"w-12 h-12 text-primary animate-spin"})})}e.s(["default",()=>G],78928)}]);