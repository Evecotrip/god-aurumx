module.exports=[20731,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(20180),f=a.i(70106);let g=(0,f.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var h=a.i(41710),i=a.i(16201);let j=(0,f.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),k=(0,f.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),l=(0,f.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var m=a.i(77156);let n=(0,f.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),o=(0,f.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var p=a.i(33508),q=a.i(96221);let r=(0,f.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var s=a.i(24669);let t=(0,f.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),u=(0,f.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var v=a.i(50233);let w="http://localhost:3011";async function x(a){let b=await a.text();try{return JSON.parse(b)}catch{throw console.error("Failed to parse response as JSON:",b.substring(0,200)),Error("Server returned an invalid response. Please check if the backend is running.")}}function y(a){return{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}async function z(a){try{let b=await fetch(`${w}/api/v1/god-admin/stats`,{method:"GET",headers:y(a)});if(!b.ok){let a=await x(b);return{success:!1,message:a.message||"Failed to fetch dashboard stats"}}return await x(b)}catch(a){return console.error("Error fetching dashboard stats:",a),{success:!1,message:"Network error while fetching dashboard stats"}}}async function A(a,b={}){try{let c,d,e=(c=new URLSearchParams,Object.entries(b).forEach(([a,b])=>{null!=b&&""!==b&&c.append(a,String(b))}),(d=c.toString())?`?${d}`:""),f=await fetch(`${w}/api/v1/god-admin/requests${e}`,{method:"GET",headers:y(a)});if(!f.ok){let a=await x(f);return{success:!1,message:a.message||"Failed to fetch requests"}}return await x(f)}catch(a){return console.error("Error fetching requests:",a),{success:!1,message:"Network error while fetching requests"}}}async function B(a,b){try{let c=await fetch(`${w}/api/v1/god-admin/requests/${b}`,{method:"GET",headers:y(a)});if(!c.ok){let a=await x(c);return{success:!1,message:a.message||"Failed to fetch request details"}}return await x(c)}catch(a){return console.error("Error fetching request details:",a),{success:!1,message:"Network error while fetching request details"}}}async function C(a,b){try{let c=await fetch(`${w}/api/v1/god-admin/requests/${b}/send-bank-details`,{method:"POST",headers:y(a)});if(!c.ok){let a=await x(c);return{success:!1,message:a.message||"Failed to send bank details"}}return await x(c)}catch(a){return console.error("Error sending bank details:",a),{success:!1,message:"Network error while sending bank details"}}}async function D(a,b,c){try{let d=await fetch(`${w}/api/v1/god-admin/requests/${b}/verify`,{method:"POST",headers:y(a),body:JSON.stringify(c)});if(!d.ok){let a=await x(d);return{success:!1,message:a.message||"Failed to verify request"}}return await x(d)}catch(a){return console.error("Error verifying request:",a),{success:!1,message:"Network error while verifying request"}}}async function E(a,b,c){try{let d=await fetch(`${w}/api/v1/god-admin/requests/${b}/reject`,{method:"POST",headers:y(a),body:JSON.stringify(c)});if(!d.ok){let a=await x(d);return{success:!1,message:a.message||"Failed to reject request"}}return await x(d)}catch(a){return console.error("Error rejecting request:",a),{success:!1,message:"Network error while rejecting request"}}}let F="http://localhost:3011";async function G(a){let b=await a.text();try{return JSON.parse(b)}catch{throw console.error("Failed to parse response as JSON:",b.substring(0,200)),Error("Server returned an invalid response. Please check if the backend is running.")}}function H(a){return{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}async function I(a,b=1,c=20){try{let d=await fetch(`${F}/api/v1/withdrawals/god-admin/pending?page=${b}&limit=${c}`,{method:"GET",headers:H(a)});if(!d.ok){let a=await G(d);return{success:!1,message:a.message||"Failed to fetch pending withdrawals"}}return await G(d)}catch(a){return console.error("Error fetching pending withdrawals:",a),{success:!1,message:"Network error while fetching pending withdrawals"}}}async function J(a,b,c){try{let d=await fetch(`${F}/api/v1/withdrawals/${b}/process`,{method:"POST",headers:H(a),body:JSON.stringify(c)});if(!d.ok){let a=await G(d);return{success:!1,message:a.message||"Failed to process withdrawal"}}return await G(d)}catch(a){return console.error("Error processing withdrawal:",a),{success:!1,message:"Network error while processing withdrawal"}}}async function K(a,b,c){try{let d=await fetch(`${F}/api/v1/withdrawals/${b}/reject`,{method:"POST",headers:H(a),body:JSON.stringify(c)});if(!d.ok){let a=await G(d);return{success:!1,message:a.message||"Failed to reject withdrawal"}}return await G(d)}catch(a){return console.error("Error rejecting withdrawal:",a),{success:!1,message:"Network error while rejecting withdrawal"}}}var L=a.i(40695),M=a.i(3130),N=a.i(54161),O=a.i(32324);function P(){let f=(0,d.useRouter)(),{user:w,isLoaded:x}=(0,e.useUser)(),{signOut:y}=(0,e.useClerk)(),[F,G]=(0,c.useState)(null),[H,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)(null),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)(""),[Y,Z]=(0,c.useState)(null),[$,_]=(0,c.useState)("pending"),[aa,ab]=(0,c.useState)({page:1,limit:20,status:"",currency:""}),[ac,ad]=(0,c.useState)({page:1,limit:20,total:0,totalPages:0}),[ae,af]=(0,c.useState)(!1),[ag,ah]=(0,c.useState)(!1),[ai,aj]=(0,c.useState)(!1),[ak,al]=(0,c.useState)(""),[am,an]=(0,c.useState)(""),[ao,ap]=(0,c.useState)([]),[aq,ar]=(0,c.useState)(null),[as,at]=(0,c.useState)(!1),[au,av]=(0,c.useState)(""),[aw,ax]=(0,c.useState)(""),ay=async()=>{if(!Y)return;console.log("Fetching stats with token:",Y);let a=await z(Y);console.log("Stats response:",a),a.success&&a.data?(console.log("Setting stats:",a.data),G(a.data)):(console.error("Failed to fetch stats:",a.message),X(a.message||"Failed to fetch dashboard stats"))},az=async()=>{if(!Y)return void console.log("No token available for fetching requests");console.log("Fetching requests - Tab:",$,"Filters:",aa),T(!0);try{let a="pending"===$?{...aa,status:"PROCESSING"}:aa,b=await A(Y,a);if(console.log("Requests response:",b),b.success){let a=Array.isArray(b.data)?b.data:[],c=b.pagination||null;console.log("Setting requests:",a),console.log("Setting pagination:",c),P(a),ad(c)}else console.error("Failed to fetch requests:",b.message),X(b.message||"Failed to fetch requests")}catch(a){console.error("Error fetching requests:",a),X("Error fetching requests")}finally{T(!1)}},aA=async()=>{if(Y){T(!0);try{let a=await I(Y,aa.page,aa.limit);a.success&&a.data?(ap(Array.isArray(a.data)?a.data:[]),ad(a.pagination||ac)):X(a.message||"Failed to fetch withdrawals")}catch(a){X("Error fetching withdrawals")}finally{T(!1)}}};(0,c.useEffect)(()=>{let b=async()=>{let b=(0,v.getTokenFromCookies)();if(console.log("Retrieved token from cookies:",b),!b&&w?.id){console.log("No token found, generating new token for user:",w.id);let{generateToken:c,storeTokenInCookies:d}=await a.A(38537),e=await c(w.id);if(e.success&&e.data?.token)d(b=e.data.token),console.log("Token generated and stored successfully");else{console.error("Failed to generate token:",e.message),X("Failed to generate authentication token. Please login again.");return}}Z(b),b||(console.error("No token available!"),X("Authentication token not found. Please login again."))};w&&b()},[w]),(0,c.useEffect)(()=>{!x||(w?Y&&(ay(),"withdrawals"===$?aA():az()):f.push("/login"))},[x,w,Y,$,aa]);let aB=async()=>{try{(0,v.removeTokenFromCookies)(),await y(),f.push("/login")}catch(a){console.error("Logout error:",a),f.push("/login")}},aC=async a=>{if(!Y)return;V(!0);let b=await B(Y,a);b.success&&b.data&&(R(b.data),af(!0)),V(!1)},aD=async a=>{if(!Y)return;V(!0);let b=await C(Y,a);b.success?(await az(),await ay(),Q?.id===a&&R(b.data||null)):X(b.message||"Failed to send bank details"),V(!1)},aE=async()=>{if(!Y||!Q)return;V(!0);let a=await D(Y,Q.id,{adminNotes:ak});a.success?(aj(!1),af(!1),al(""),await az(),await ay()):X(a.message||"Failed to verify request"),V(!1)},aF=async()=>{if(!Y||!Q)return;V(!0);let a=await E(Y,Q.id,{rejectionReason:am});a.success?(ah(!1),af(!1),an(""),await az(),await ay()):X(a.message||"Failed to reject request"),V(!1)},aG=async()=>{if(!Y||!aq)return;V(!0);let a=await J(Y,aq.id,{transactionRef:au,adminNotes:aw});a.success?(at(!1),av(""),ax(""),await aA()):X(a.message||"Failed to process withdrawal"),V(!1)},aH=async()=>{if(!Y||!aq)return;V(!0);let a=await K(Y,aq.id,{rejectionReason:am});a.success?(at(!1),an(""),await aA()):X(a.message||"Failed to reject withdrawal"),V(!1)},aI=({status:a})=>(0,b.jsx)(N.Badge,{variant:{PENDING:"warning",PROCESSING:"info",COMPLETED:"success",REJECTED:"destructive"}[a]||"secondary",children:a});return x?(0,b.jsxs)("div",{className:"min-h-screen bg-background text-foreground pb-20",children:[(0,b.jsxs)("div",{className:"fixed top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none",children:[(0,b.jsx)("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-primary/5 blur-[120px]"}),(0,b.jsx)("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-accent/5 blur-[120px]"})]}),(0,b.jsx)("header",{className:"sticky top-0 z-40 w-full border-b border-white/5 bg-background/80 backdrop-blur-xl",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,b.jsx)(g,{className:"w-6 h-6 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-foreground tracking-tight",children:"Master Node"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Welcome back, ",w?.firstName]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("button",{onClick:()=>f.push("/currency-settings"),className:"flex items-center gap-2 px-4 py-2 text-sm border border-white/10 rounded-lg hover:bg-white/5 transition-colors",children:[(0,b.jsx)(k,{className:"w-4 h-4"}),"Settings"]}),(0,b.jsxs)("button",{onClick:aB,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-white/5 rounded-lg transition-colors",children:[(0,b.jsx)(r,{className:"w-4 h-4"}),"Logout"]})]})]})})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)(M.Card,{gradient:!0,className:"relative overflow-hidden group",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,b.jsx)(h.Clock,{className:"w-16 h-16 text-amber-500"})}),(0,b.jsxs)(M.CardHeader,{className:"pb-2",children:[(0,b.jsx)(M.CardDescription,{children:"Pending Requests"}),(0,b.jsx)(M.CardTitle,{className:"text-3xl font-bold text-amber-500",children:F?F.pending:"0"})]})]}),(0,b.jsxs)(M.Card,{gradient:!0,className:"relative overflow-hidden group",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,b.jsx)(s.TrendingUp,{className:"w-16 h-16 text-blue-500"})}),(0,b.jsxs)(M.CardHeader,{className:"pb-2",children:[(0,b.jsx)(M.CardDescription,{children:"Processing"}),(0,b.jsx)(M.CardTitle,{className:"text-3xl font-bold text-blue-500",children:F?F.processing:"0"})]})]}),(0,b.jsxs)(M.Card,{gradient:!0,className:"relative overflow-hidden group",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,b.jsx)(i.CheckCircle,{className:"w-16 h-16 text-emerald-500"})}),(0,b.jsxs)(M.CardHeader,{className:"pb-2",children:[(0,b.jsx)(M.CardDescription,{children:"Completed"}),(0,b.jsx)(M.CardTitle,{className:"text-3xl font-bold text-emerald-500",children:F?F.completed:"0"})]})]}),(0,b.jsxs)(M.Card,{gradient:!0,className:"relative overflow-hidden group",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,b.jsx)(k,{className:"w-16 h-16 text-violet-500"})}),(0,b.jsxs)(M.CardHeader,{className:"pb-2",children:[(0,b.jsx)(M.CardDescription,{children:"Total USDT Credited"}),(0,b.jsx)(M.CardTitle,{className:"text-3xl font-bold text-violet-500",children:F?F.totalUsdtCredited:"0.00"})]})]})]}),(0,b.jsxs)(M.Card,{className:"border-white/5 bg-card/50",children:[(0,b.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex bg-secondary/50 p-1 rounded-lg overflow-x-auto",children:[(0,b.jsx)("button",{onClick:()=>_("pending"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${"pending"===$?"bg-primary text-white shadow-lg shadow-primary/20":"text-muted-foreground hover:text-foreground hover:bg-white/5"}`,children:"Pending Requests"}),(0,b.jsx)("button",{onClick:()=>_("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${"all"===$?"bg-primary text-white shadow-lg shadow-primary/20":"text-muted-foreground hover:text-foreground hover:bg-white/5"}`,children:"All Requests"}),(0,b.jsx)("button",{onClick:()=>_("withdrawals"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${"withdrawals"===$?"bg-primary text-white shadow-lg shadow-primary/20":"text-muted-foreground hover:text-foreground hover:bg-white/5"}`,children:"Withdrawals"})]}),(0,b.jsxs)("div",{className:"flex gap-3 w-full sm:w-auto",children:[(0,b.jsxs)("select",{value:aa.currency,onChange:a=>ab({...aa,currency:a.target.value,page:1}),className:"h-10 px-3 rounded-lg bg-secondary/50 border border-white/10 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[(0,b.jsx)("option",{value:"",children:"All Currencies"}),(0,b.jsx)("option",{value:"INR",children:"INR"}),(0,b.jsx)("option",{value:"USD",children:"USD"}),(0,b.jsx)("option",{value:"EUR",children:"EUR"})]}),"all"===$&&(0,b.jsxs)("select",{value:aa.status,onChange:a=>ab({...aa,status:a.target.value,page:1}),className:"h-10 px-3 rounded-lg bg-secondary/50 border border-white/10 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[(0,b.jsx)("option",{value:"",children:"All Status"}),(0,b.jsx)("option",{value:"PENDING",children:"Pending"}),(0,b.jsx)("option",{value:"PROCESSING",children:"Processing"}),(0,b.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,b.jsx)("option",{value:"REJECTED",children:"Rejected"})]})]})]})}),(0,b.jsxs)("div",{className:"overflow-x-auto",children:[("pending"===$||"all"===$)&&(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-secondary/30",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"User"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Currency"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Amount"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"USDT"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:H&&0!==H.length?H.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-foreground",children:[a.user.firstName," ",a.user.lastName]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.user.email})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:"text-sm font-medium text-foreground",children:a.currency})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:"text-sm text-foreground",children:a.currencyAmount})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:"text-sm font-semibold text-emerald-500",children:a.totalAmount})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)(aI,{status:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>aC(a.id),className:"h-8 w-8 flex items-center justify-center hover:bg-white/5 rounded-lg transition-colors",title:"View Details",children:(0,b.jsx)(m.Eye,{className:"w-4 h-4 text-blue-400"})}),"PENDING"===a.status&&!a.bankDetailsSentAt&&(0,b.jsx)("button",{onClick:()=>aD(a.id),className:"h-8 w-8 flex items-center justify-center hover:bg-white/5 rounded-lg transition-colors disabled:opacity-50",title:"Send Bank Details",disabled:U,children:(0,b.jsx)(n,{className:"w-4 h-4 text-violet-400"})})]})})]},a.id)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center text-muted-foreground",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,b.jsx)(l,{className:"w-8 h-8 opacity-20"}),(0,b.jsx)("p",{children:"No requests found"})]})})})})]}),"withdrawals"===$&&(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-secondary/30",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"User"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Amount (USDT)"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Method"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Bank Details"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:ao&&0!==ao.length?ao.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-foreground",children:[a.user.firstName," ",a.user.lastName]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.user.email})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:"text-sm font-semibold text-emerald-500",children:a.amount})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:"text-sm text-foreground",children:a.method})}),(0,b.jsx)("td",{className:"px-6 py-4",children:a.bankDetails&&(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,b.jsx)("div",{children:a.bankDetails.accountName}),(0,b.jsx)("div",{children:a.bankDetails.bankName})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("button",{onClick:()=>{ar(a),at(!0)},className:"h-8 w-8 flex items-center justify-center hover:bg-white/5 rounded-lg transition-colors",children:(0,b.jsx)(m.Eye,{className:"w-4 h-4 text-blue-400"})})})]},a.id)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-muted-foreground",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,b.jsx)(l,{className:"w-8 h-8 opacity-20"}),(0,b.jsx)("p",{children:"No pending withdrawals"})]})})})})]})]}),ac&&ac.totalPages>1&&(0,b.jsxs)("div",{className:"px-6 py-4 border-t border-white/5 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page ",ac.page," of ",ac.totalPages]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>ab({...aa,page:Math.max(1,aa.page-1)}),disabled:1===ac.page,className:"flex items-center gap-2 px-4 py-2 text-sm border border-white/10 rounded-lg hover:bg-white/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(t,{className:"w-4 h-4"}),"Previous"]}),(0,b.jsxs)("button",{onClick:()=>ab({...aa,page:Math.min(ac.totalPages,(aa.page||1)+1)}),disabled:ac.page===ac.totalPages,className:"flex items-center gap-2 px-4 py-2 text-sm border border-white/10 rounded-lg hover:bg-white/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",(0,b.jsx)(u,{className:"w-4 h-4"})]})]})]})]})]}),(0,b.jsx)(O.Modal,{isOpen:ae&&!!Q,onClose:()=>af(!1),title:"Request Details",maxWidth:"2xl",children:Q&&(0,b.jsxs)("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-3 uppercase tracking-wider",children:"User Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 bg-secondary/30 p-4 rounded-lg border border-white/5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Name"}),(0,b.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[Q.user.firstName," ",Q.user.lastName]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email"}),(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:Q.user.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Phone"}),(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:Q.user.phone})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Referral Code"}),(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:Q.user.referralCode})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-3 uppercase tracking-wider",children:"Payment Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 bg-secondary/30 p-4 rounded-lg border border-white/5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Currency"}),(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:Q.currency})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Amount"}),(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:Q.currencyAmount})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"USDT Amount"}),(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:Q.usdtAmount})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Bonus"}),(0,b.jsx)("p",{className:"text-sm font-medium text-emerald-500",children:Q.bonusAmount})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total USDT"}),(0,b.jsx)("p",{className:"text-sm font-bold text-emerald-500",children:Q.totalAmount})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Exchange Rate"}),(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:Q.exchangeRate})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Method"}),(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:Q.method})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Status"}),(0,b.jsx)(aI,{status:Q.status})]})]})]}),Q.paymentProof&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-3 uppercase tracking-wider",children:"Payment Proof"}),(0,b.jsx)("div",{className:"rounded-lg overflow-hidden border border-white/10",children:(0,b.jsx)("img",{src:Q.paymentProof,alt:"Payment Proof",className:"w-full h-auto object-cover"})})]}),Q.transactionRef&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-2 uppercase tracking-wider",children:"Transaction Reference"}),(0,b.jsx)("p",{className:"text-sm bg-secondary/30 p-3 rounded-lg font-mono text-foreground border border-white/5",children:Q.transactionRef})]}),Q.userNotes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-2 uppercase tracking-wider",children:"User Notes"}),(0,b.jsx)("p",{className:"text-sm bg-secondary/30 p-3 rounded-lg text-foreground border border-white/5",children:Q.userNotes})]}),Q.adminNotes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-2 uppercase tracking-wider",children:"Admin Notes"}),(0,b.jsx)("p",{className:"text-sm bg-blue-500/10 text-blue-200 p-3 rounded-lg border border-blue-500/20",children:Q.adminNotes})]}),Q.rejectionReason&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-2 uppercase tracking-wider",children:"Rejection Reason"}),(0,b.jsx)("p",{className:"text-sm bg-red-500/10 text-red-200 p-3 rounded-lg border border-red-500/20",children:Q.rejectionReason})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-white/10",children:["PENDING"===Q.status&&!Q.bankDetailsSentAt&&(0,b.jsx)(L.Button,{onClick:()=>aD(Q.id),disabled:U,className:"flex-1",leftIcon:(0,b.jsx)(n,{className:"w-4 h-4"}),children:"Send Bank Details"}),"PROCESSING"===Q.status&&Q.paymentProof&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(L.Button,{onClick:()=>aj(!0),disabled:U,variant:"primary",className:"flex-1 bg-emerald-600 hover:bg-emerald-700",leftIcon:(0,b.jsx)(o,{className:"w-4 h-4"}),children:"Verify & Approve"}),(0,b.jsx)(L.Button,{onClick:()=>ah(!0),disabled:U,variant:"destructive",className:"flex-1",leftIcon:(0,b.jsx)(p.X,{className:"w-4 h-4"}),children:"Reject"})]})]})]})}),(0,b.jsx)(O.Modal,{isOpen:ai,onClose:()=>aj(!1),title:"Verify & Approve Request",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to verify this request? This will credit ",(0,b.jsxs)("span",{className:"text-emerald-500 font-bold",children:[Q?.totalAmount," USDT"]})," to the user's wallet."]}),(0,b.jsx)("textarea",{value:ak,onChange:a=>al(a.target.value),placeholder:"Add admin notes (optional)",className:"w-full px-4 py-3 bg-secondary/30 border border-white/10 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-foreground placeholder:text-muted-foreground",rows:4}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(L.Button,{variant:"outline",onClick:()=>aj(!1),className:"flex-1",children:"Cancel"}),(0,b.jsx)(L.Button,{onClick:aE,disabled:U,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",isLoading:U,children:"Verify & Credit"})]})]})}),(0,b.jsx)(O.Modal,{isOpen:ag,onClose:()=>ah(!1),title:"Reject Request",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please provide a reason for rejecting this request. The user will be notified."}),(0,b.jsx)("textarea",{value:am,onChange:a=>an(a.target.value),placeholder:"Enter rejection reason (required)",className:"w-full px-4 py-3 bg-secondary/30 border border-white/10 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-foreground placeholder:text-muted-foreground",rows:4,required:!0}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(L.Button,{variant:"outline",onClick:()=>ah(!1),className:"flex-1",children:"Cancel"}),(0,b.jsx)(L.Button,{variant:"destructive",onClick:aF,disabled:U||!am.trim(),className:"flex-1",isLoading:U,children:"Reject Request"})]})]})}),(0,b.jsx)(O.Modal,{isOpen:as&&!!aq,onClose:()=>at(!1),title:`Withdrawal Request - ${aq?.user.firstName} ${aq?.user.lastName}`,children:aq&&(0,b.jsxs)("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2",children:[(0,b.jsxs)("div",{className:"bg-secondary/30 p-4 rounded-lg space-y-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"User Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Name:"}),(0,b.jsxs)("span",{className:"ml-2 text-foreground",children:[aq.user.firstName," ",aq.user.lastName]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Email:"}),(0,b.jsx)("span",{className:"ml-2 text-foreground",children:aq.user.email})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Amount (USDT):"}),(0,b.jsx)("span",{className:"font-semibold text-emerald-500",children:aq.amount})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Method:"}),(0,b.jsx)("span",{className:"text-foreground",children:aq.method})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Date:"}),(0,b.jsx)("span",{className:"text-foreground",children:new Date(aq.createdAt).toLocaleString()})]})]}),aq.bankDetails&&(0,b.jsxs)("div",{className:"bg-secondary/30 p-4 rounded-lg space-y-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Bank Details"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Account Name:"}),(0,b.jsx)("span",{className:"text-foreground",children:aq.bankDetails.accountName})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Bank Name:"}),(0,b.jsx)("span",{className:"text-foreground",children:aq.bankDetails.bankName})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Account Number:"}),(0,b.jsx)("span",{className:"text-foreground font-mono",children:aq.bankDetails.accountNumber})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"IFSC Code:"}),(0,b.jsx)("span",{className:"text-foreground font-mono",children:aq.bankDetails.ifscCode})]})]})]}),aq.userNotes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"User Notes"}),(0,b.jsx)("p",{className:"text-sm bg-secondary/30 p-3 rounded-lg text-muted-foreground",children:aq.userNotes})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Transaction Reference (UTR)"}),(0,b.jsx)("input",{type:"text",value:au,onChange:a=>av(a.target.value),placeholder:"UTR123456789012",className:"w-full px-3 py-2 bg-secondary/30 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary/50 focus:outline-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Admin Notes"}),(0,b.jsx)("textarea",{value:aw,onChange:a=>ax(a.target.value),placeholder:"Payment sent via NEFT...",rows:3,className:"w-full px-3 py-2 bg-secondary/30 border border-white/10 rounded-lg focus:ring-2 focus:ring-primary/50 focus:outline-none"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(L.Button,{variant:"outline",onClick:()=>at(!1),className:"flex-1",children:"Cancel"}),(0,b.jsx)(L.Button,{variant:"destructive",onClick:aH,disabled:U,className:"flex-1",children:"Reject"}),(0,b.jsx)(L.Button,{variant:"primary",onClick:aG,disabled:U||!au.trim(),className:"flex-1",isLoading:U,children:"Process & Pay"})]})]})}),W&&(0,b.jsxs)("div",{className:"fixed bottom-4 right-4 bg-destructive text-destructive-foreground px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 z-50 animate-in slide-in-from-bottom-5",children:[(0,b.jsx)(j,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:W}),(0,b.jsx)("button",{onClick:()=>X(""),className:"ml-2 hover:opacity-80",children:(0,b.jsx)(p.X,{className:"w-4 h-4"})})]})]}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,b.jsx)(q.Loader2,{className:"w-12 h-12 text-primary animate-spin"})})}a.s(["default",()=>P],20731)}];

//# sourceMappingURL=app_dashboard_page_tsx_42ef5b16._.js.map